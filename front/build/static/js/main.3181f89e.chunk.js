(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{35:function(e,t,n){e.exports=n(63)},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(29),l=n.n(o),c=n(9),u=n(1),i=n(4),s=n(5);function f(){var e=Object(i.a)(["\n  font-size: 28px;\n"]);return f=function(){return e},e}var m=function(){return r.a.createElement(E,null,r.a.createElement("h1",null,"PSST"),r.a.createElement("p",null,r.a.createElement("em",null,"Pretty Sweet Streaming Tools")),r.a.createElement(c.b,{to:"/custom"},r.a.createElement("button",null,"Make your own!")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null),"Or see:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/play/info?user=zookeeprr&font=Gloria+Hallelujah"},"Sam's now playing info")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/play/art?user=zookeeprr"},"Sam's now playing art")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/countdown/?font=Gloria+Hallelujah"},"5 minute timer"))))},E=s.a.section(f()),p=n(3),v=n(8),b=r.a.createContext(),h={},d=function(e,t){switch(t.type){case"USERNAME":return localStorage.setItem("psst-username",t.username),Object(v.a)(Object(v.a)({},e),{},{username:t.username});case"COLOR":return localStorage.setItem("psst-color",t.color),Object(v.a)(Object(v.a)({},e),{},{color:t.color});case"SECONDS":return localStorage.setItem("psst-seconds",t.seconds),Object(v.a)(Object(v.a)({},e),{},{seconds:t.seconds});case"FONT":return localStorage.setItem("psst-font",t.font),Object(v.a)(Object(v.a)({},e),{},{font:t.font});default:return h}};function g(){var e=Object(i.a)(["\n  position: absolute;\n  visibility: hidden;\n  height: auto;\n  width: auto;\n  white-space: nowrap; /* Thanks to Herb Caudill comment */\n"]);return g=function(){return e},e}function O(){var e=Object(i.a)(["\n  font-size: 28px;\n  font-family: ",";\n  color: ",";\n"]);return O=function(){return e},e}var y=s.a.section(O(),(function(e){return e.fontFamily}),(function(e){return e.color||"black"})),j=s.a.div(g()),w=["sans-serif","Anton","Gloria+Hallelujah","Indie+Flower","Josefin+Sans"],S=function(e){var t=e.set,n=e.value,a=e.name,o=e.label,l=e.type,c=void 0===l?"text":l;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a},o)," ",r.a.createElement("input",{value:n,type:c,id:a,onChange:function(e){var n=e.target;return t(n.value)}}),r.a.createElement("br",null))},x=function(e){var t=e.font,n=e.setFont;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"font"},"Font choice")," ",r.a.createElement("select",{value:t&&t.replace(" ","+")||"",onChange:function(e){var t=e.target;return n(t.value.replace("+"," "))}},w.map((function(e){return r.a.createElement("option",{key:e,value:e},e.replace("+"," "))}))),r.a.createElement("br",null))},F={seconds:300,user:"zookeeprr",font:"sans-serif",color:"black"},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{seconds:300,user:"zookeeprr",font:"sans-serif",color:"black"};if(console.log("url"),console.log(e),console.log("params"),console.log(t),t){var n="?";for(var a in t)n+="".concat(a,"=").concat(t[a]?t[a]:F[a],"&");n.length>1&&(e+=n),window.open(e,"_blank")}else window.open(e,"_blank")},C={username:"Last.fm username:",color:"Color:",seconds:"Time (in seconds)"};function I(){var e=Object(i.a)(["\n  &:hover {\n    cursor: pointer;\n  }\n"]);return I=function(){return e},e}function N(){var e=Object(i.a)(["\n  transition: max-height 0.2s ease-out;\n  overflow: hidden;\n  max-height: ","px;\n"]);return N=function(){return e},e}var D=function(e){var t=e.header,n=e.content,o=Object(a.useState)(!1),l=Object(p.a)(o,2),c=l[0],u=l[1],i=Object(a.useState)(0),s=Object(p.a)(i,2),f=s[0],m=s[1],E=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=E.current&&E.current.clientHeight+1;m(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{onClick:function(){return u(!c)}},r.a.createElement("h2",null,t," ",c?"-":"+")),r.a.createElement(j,{ref:E},n),r.a.createElement(R,{height:f,on:c},n))},R=s.a.div(N(),(function(e){return e.on?e.height:0})),T=s.a.div(I()),z=C;var P=function(){var e=Object(a.useContext)(b),t=e.config,n=e.configDispatch,o=t.font,l=t.color,c=t.seconds;return r.a.createElement(y,{fontFamily:o},r.a.createElement(D,{header:"Countdown timer",content:r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{set:function(e){return n({type:"SECONDS",seconds:e})},value:c,name:"seconds",type:"number",label:z.seconds}),r.a.createElement(S,{set:function(e){return n({type:"COLOR",color:e})},value:l,name:"color",type:"color",label:z.color}),r.a.createElement(x,{font:o,setFont:function(e){return n({type:"FONT",font:e})}}),r.a.createElement("button",{onClick:function(){return k("/countdown",{seconds:c,font:o,color:l})}},"Start timer"))}))},A=C;var H=function(e){var t=e.type,n=void 0===t?"info":t,o=Object(a.useContext)(b),l=o.config,c=o.configDispatch,u=l.color,i=l.username,s=l.font;return r.a.createElement(y,{fontFamily:s},r.a.createElement(D,{header:"Now playing ".concat(n),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{set:function(e){return c({type:"USERNAME",username:e})},value:i,name:"username",label:A.username}),r.a.createElement(S,{set:function(e){return c({type:"COLOR",color:e})},value:u,name:"color",type:"color",label:A.color}),r.a.createElement(x,{font:s,setFont:function(e){return c({type:"FONT",font:e})}}),"art"===n?r.a.createElement("button",{onClick:function(){return k("/play/art",{user:i,font:s,color:u})}},"See Now Playing Art"):r.a.createElement("button",{onClick:function(){return k("/play/info",{user:i,font:s,color:u})}},"See Now Playing Info"))}))};var W=function(){var e=Object(a.useReducer)(d,{}),t=Object(p.a)(e,2),n=t[0],o=t[1],l=n.font;return r.a.createElement(b.Provider,{value:{config:n,configDispatch:o}},r.a.createElement(y,{fontFamily:l},r.a.createElement("h1",null,"PSST"),r.a.createElement("p",null,r.a.createElement("em",null,"Pretty Sweet Streaming Tools")),r.a.createElement("p",null,"Choose any of the following:")),r.a.createElement("hr",null),r.a.createElement(H,{type:"art"}),r.a.createElement("hr",null),r.a.createElement(H,{type:"info"}),r.a.createElement("hr",null),r.a.createElement(P,null),r.a.createElement("hr",null))};var L=function(){return new URLSearchParams(Object(u.f)().search)};var G=function(){var e=L().get("font"),t=Object(a.useState)(function(e){return e&&"undefined"!==e?"gh"===e?"Gloria Hallelujah":e:"sans-serif"}(e)),n=Object(p.a)(t,1)[0];return Object(a.useEffect)((function(){if(n){var e=document.createElement("link");e.setAttribute("href","https://fonts.googleapis.com/css2?family=".concat(n,"&display=swap")),e.setAttribute("rel","stylesheet"),document.head.appendChild(e)}}),[n]),n};function M(){var e=Object(i.a)(["\n  color: ",";\n  font-size: 100px;\n"]);return M=function(){return e},e}var J=function(){var e=L(),t=e.get("seconds")||300,n=G(),o=Object(a.useState)(null),l=Object(p.a)(o,2),c=l[0],u=l[1];return Object(a.useEffect)((function(){var e=t%60,n=parseInt(t/60);setInterval((function(){u("".concat(n||"0",":").concat(e<10?"0"+("0"+e).slice(-1):e)),--e<0&&n>=0&&(--n,e=59),n<0&&u("a moment!")}),1e3)}),[t]),c?r.a.createElement(y,{fontFamily:n&&n.replace("+"," ")},r.a.createElement(U,{color:e.get("color")},c)):null},U=s.a.span(M(),(function(e){return e.color})),_=n(17),B=n.n(_),q=n(33),K=n(34),Q=n.n(K),V=function(){var e=Object(q.a)(B.a.mark((function e(t,n,a){var r,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get("/playing/".concat(a&&a));case 2:r=e.sent,o=r.data,t.song!==o.song&&n(o);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function X(){var e=Object(i.a)(["\n  animation: scroll ","s linear 0s infinite;\n  position: absolute;\n  left: ","px;\n  @keyframes scroll {\n    0% {\n      transform: translate(0, 0);\n    }\n    100% {\n      transform: translate(-","px, 0);\n    }\n  }\n"]);return X=function(){return e},e}function Y(){var e=Object(i.a)(["\n  font-size: 100px;\n  font-family: ",";\n  color: ",";\n  position: relative !important;\n  width: 4500;\n  height: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  transition: all 220ms ease-in-out;\n  white-space: nowrap;\n"]);return Y=function(){return e},e}var Z=function(e){var t=e.songData,n=L(),o=Object(a.useRef)(null),l=Object(a.useState)(0),c=Object(p.a)(l,2),u=c[0],i=c[1],s=G(),f="".concat(t.song," // ").concat(t.artist," // ").concat(t.album);return Object(a.useEffect)((function(){var e=o.current&&o.current.clientWidth+1;i(e)}),[t]),t.song?r.a.createElement($,{elWidth:u,color:n.get("color"),fontFamily:s&&s.replace("+"," ")},r.a.createElement(ee,{elWidth:u},f),r.a.createElement(ee,{elWidth:u,elOffset:u},f),r.a.createElement(j,{ref:o},f)):null},$=s.a.div(Y(),(function(e){return e.fontFamily}),(function(e){return e.color})),ee=s.a.span(X(),(function(e){return e.elWidth/100}),(function(e){return e.elOffset+50||0}),(function(e){return e.elWidth+50||0}));var te=function(e){var t=e.songData;return r.a.createElement("img",{alt:"--",src:t.image})};var ne=function(e){var t=e.view,n=Object(a.useState)({}),o=Object(p.a)(n,2),l=o[0],c=o[1],u=L().get("user");switch(Object(a.useEffect)((function(){V(l,c,u);var e=setInterval((function(){V(l,c,u)}),5e3);return function(){return clearInterval(e)}}),[l,l.song,u]),t){case"art":return r.a.createElement(te,{songData:l});case"info":return r.a.createElement(Z,{songData:l});default:return null}};function ae(){return r.a.createElement(c.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(m,null)),r.a.createElement(u.a,{exact:!0,path:"/custom"},r.a.createElement(W,null)),r.a.createElement(u.a,{exact:!0,path:"/countdown"},r.a.createElement(J,null)),r.a.createElement(u.a,{exact:!0,path:"/play/art"},r.a.createElement(ne,{view:"art"})),r.a.createElement(u.a,{exact:!0,path:"/play/info"},r.a.createElement(ne,{view:"info"}))))}n(62);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ae,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.3181f89e.chunk.js.map