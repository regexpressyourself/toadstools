(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{30:function(e,t,n){e.exports=n.p+"static/media/toadstools.3b6f3416.png"},34:function(e,t,n){e.exports=n.p+"static/media/toadstools-simple.0a27a08f.png"},37:function(e,t,n){e.exports=n(65)},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(29),c=n.n(o),l=n(9),u=n(1),i=n(4),s=n(5),f=n(30),m=n.n(f);function p(){var e=Object(i.a)(["\n  font-size: 28px;\n"]);return p=function(){return e},e}var E=function(){return r.a.createElement(b,null,r.a.createElement("h1",null,r.a.createElement("img",{src:m.a,alt:"toadstools"})),r.a.createElement(l.b,{to:"/custom"},r.a.createElement("button",null,"Make your own!")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",null),"Or see:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"/play/info?user=zookeeprr&font=Gloria+Hallelujah"},"Sample now playing info")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/play/art?user=zookeeprr"},"Sampl now playing art")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/countdown/?font=Gloria+Hallelujah"},"5 minute timer"))))},b=s.a.section(p()),v=n(3),h=n(8),d=r.a.createContext(),g={},O=function(e,t){switch(t.type){case"USERNAME":return localStorage.setItem("psst-username",t.username),Object(h.a)(Object(h.a)({},e),{},{username:t.username});case"COLOR":return localStorage.setItem("psst-color",t.color),Object(h.a)(Object(h.a)({},e),{},{color:t.color});case"SECONDS":return localStorage.setItem("psst-seconds",t.seconds),Object(h.a)(Object(h.a)({},e),{},{seconds:t.seconds});case"FONT":return localStorage.setItem("psst-font",t.font),Object(h.a)(Object(h.a)({},e),{},{font:t.font});default:return g}};function y(){var e=Object(i.a)(["\n  position: absolute;\n  visibility: hidden;\n  height: auto;\n  width: auto;\n  white-space: nowrap; /* Thanks to Herb Caudill comment */\n"]);return y=function(){return e},e}function j(){var e=Object(i.a)(["\n  font-size: 28px;\n  font-family: ",";\n  color: ",";\n"]);return j=function(){return e},e}var w=s.a.section(j(),(function(e){return e.fontFamily}),(function(e){return e.color||"black"})),x=s.a.div(y()),S=["sans-serif","Anton","Gloria+Hallelujah","Indie+Flower","Josefin+Sans"],F=function(e){var t=e.set,n=e.value,a=e.name,o=e.label,c=e.type,l=void 0===c?"text":c;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a},o)," ",r.a.createElement("input",{value:n,type:l,id:a,onChange:function(e){var n=e.target;return t(n.value)}}),r.a.createElement("br",null))},k=function(e){var t=e.font,n=e.setFont;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"font"},"Font choice")," ",r.a.createElement("select",{value:t&&t.replace(" ","+")||"",onChange:function(e){var t=e.target;return n(t.value.replace("+"," "))}},S.map((function(e){return r.a.createElement("option",{key:e,value:e},e.replace("+"," "))}))),r.a.createElement("br",null))},C={seconds:300,user:"zookeeprr",font:"sans-serif",color:"black"},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{seconds:300,user:"zookeeprr",font:"sans-serif",color:"black"};if(console.log("url"),console.log(e),console.log("params"),console.log(t),t){var n="?";for(var a in t)n+="".concat(a,"=").concat(t[a]?t[a]:C[a],"&");n.length>1&&(e+=n),window.open(e,"_blank")}else window.open(e,"_blank")},N={username:"Last.fm username:",color:"Color:",seconds:"Time (in seconds)"};function D(){var e=Object(i.a)(["\n  &:hover {\n    cursor: pointer;\n  }\n"]);return D=function(){return e},e}function R(){var e=Object(i.a)(["\n  transition: max-height 0.2s ease-out;\n  overflow: hidden;\n  max-height: ","px;\n"]);return R=function(){return e},e}var z=function(e){var t=e.header,n=e.content,o=Object(a.useState)(!1),c=Object(v.a)(o,2),l=c[0],u=c[1],i=Object(a.useState)(0),s=Object(v.a)(i,2),f=s[0],m=s[1],p=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=p.current&&p.current.clientHeight+1;m(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(H,{onClick:function(){return u(!l)}},r.a.createElement("h2",null,t," ",l?"-":"+")),r.a.createElement(x,{ref:p},n),r.a.createElement(A,{height:f,on:l},n))},A=s.a.div(R(),(function(e){return e.on?e.height:0})),H=s.a.div(D()),W=N;var L=function(){var e=Object(a.useContext)(d),t=e.config,n=e.configDispatch,o=t.font,c=t.color,l=t.seconds;return r.a.createElement(w,{fontFamily:o},r.a.createElement(z,{header:"Countdown timer",content:r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{set:function(e){return n({type:"SECONDS",seconds:e})},value:l,name:"seconds",type:"number",label:W.seconds}),r.a.createElement(F,{set:function(e){return n({type:"COLOR",color:e})},value:c,name:"color",type:"color",label:W.color}),r.a.createElement(k,{font:o,setFont:function(e){return n({type:"FONT",font:e})}}),r.a.createElement("button",{onClick:function(){return I("/countdown",{seconds:l,font:o,color:c})}},"Start timer"))}))},T=N;var G=function(e){var t=e.type,n=void 0===t?"info":t,o=Object(a.useContext)(d),c=o.config,l=o.configDispatch,u=c.color,i=c.username,s=c.font;return r.a.createElement(w,{fontFamily:s},r.a.createElement(z,{header:"Now playing ".concat(n),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{set:function(e){return l({type:"USERNAME",username:e})},value:i,name:"username",label:T.username}),"art"===n?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{set:function(e){return l({type:"COLOR",color:e})},value:u,name:"color",type:"color",label:T.color}),r.a.createElement(k,{font:s,setFont:function(e){return l({type:"FONT",font:e})}})),"art"===n?r.a.createElement("button",{onClick:function(){return I("/play/art",{user:i,font:s,color:u})}},"See Now Playing Art"):r.a.createElement("button",{onClick:function(){return I("/play/info",{user:i,font:s,color:u})}},"See Now Playing Info"))}))},M=n(34),P=n.n(M);var J=function(){var e=Object(a.useReducer)(O,{}),t=Object(v.a)(e,2),n=t[0],o=t[1],c=n.font;return r.a.createElement(d.Provider,{value:{config:n,configDispatch:o}},r.a.createElement(w,{fontFamily:c},r.a.createElement("h1",null,r.a.createElement("img",{src:P.a,alt:"toadstools"})),r.a.createElement("p",null,"Choose any of the following:")),r.a.createElement("hr",null),r.a.createElement(G,{type:"art"}),r.a.createElement("hr",null),r.a.createElement(G,{type:"info"}),r.a.createElement("hr",null),r.a.createElement(L,null),r.a.createElement("hr",null))};var U=function(){return new URLSearchParams(Object(u.f)().search)};var _=function(){var e=U().get("font"),t=Object(a.useState)(function(e){return e&&"undefined"!==e?"gh"===e?"Gloria Hallelujah":e:"sans-serif"}(e)),n=Object(v.a)(t,1)[0];return Object(a.useEffect)((function(){if(n){var e=document.createElement("link");e.setAttribute("href","https://fonts.googleapis.com/css2?family=".concat(n,"&display=swap")),e.setAttribute("rel","stylesheet"),document.head.appendChild(e)}}),[n]),n};function B(){var e=Object(i.a)(["\n  color: ",";\n  font-size: 100px;\n"]);return B=function(){return e},e}var q=function(){var e=U(),t=e.get("seconds")||300,n=_(),o=Object(a.useState)(null),c=Object(v.a)(o,2),l=c[0],u=c[1];return Object(a.useEffect)((function(){var e=t%60,n=parseInt(t/60);setInterval((function(){u("".concat(n||"0",":").concat(e<10?"0"+("0"+e).slice(-1):e)),--e<0&&n>=0&&(--n,e=59),n<0&&u("a moment!")}),1e3)}),[t]),l?r.a.createElement(w,{fontFamily:n&&n.replace("+"," ")},r.a.createElement(K,{color:e.get("color")},l)):null},K=s.a.span(B(),(function(e){return e.color})),Q=n(17),V=n.n(Q),X=n(35),Y=n(36),Z=n.n(Y),$=function(){var e=Object(X.a)(V.a.mark((function e(t,n,a){var r,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("/playing/".concat(a&&a));case 2:r=e.sent,o=r.data,t.song!==o.song&&n(o);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();function ee(){var e=Object(i.a)(["\n  animation: scroll ","s linear 0s infinite;\n  position: absolute;\n  left: ","px;\n  @keyframes scroll {\n    0% {\n      transform: translate(0, 0);\n    }\n    100% {\n      transform: translate(-","px, 0);\n    }\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(i.a)(["\n  font-size: 100px;\n  font-family: ",";\n  color: ",";\n  position: relative !important;\n  width: 4500;\n  height: 500px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  transition: all 220ms ease-in-out;\n  white-space: nowrap;\n"]);return te=function(){return e},e}var ne=function(e){var t=e.songData,n=U(),o=Object(a.useRef)(null),c=Object(a.useState)(0),l=Object(v.a)(c,2),u=l[0],i=l[1],s=_(),f="".concat(t.song," // ").concat(t.artist," // ").concat(t.album);return Object(a.useEffect)((function(){var e=o.current&&o.current.clientWidth+1;i(e)}),[t]),t.song?r.a.createElement(ae,{elWidth:u,color:n.get("color"),fontFamily:s&&s.replace("+"," ")},r.a.createElement(re,{elWidth:u},f),r.a.createElement(re,{elWidth:u,elOffset:u},f),r.a.createElement(x,{ref:o},f)):null},ae=s.a.div(te(),(function(e){return e.fontFamily}),(function(e){return e.color})),re=s.a.span(ee(),(function(e){return e.elWidth/100}),(function(e){return e.elOffset+50||0}),(function(e){return e.elWidth+50||0}));var oe=function(e){var t=e.songData;return r.a.createElement("img",{alt:"--",src:t.image})};var ce=function(e){var t=e.view,n=Object(a.useState)({}),o=Object(v.a)(n,2),c=o[0],l=o[1],u=U().get("user");switch(Object(a.useEffect)((function(){$(c,l,u);var e=setInterval((function(){$(c,l,u)}),5e3);return function(){return clearInterval(e)}}),[c,c.song,u]),t){case"art":return r.a.createElement(oe,{songData:c});case"info":return r.a.createElement(ne,{songData:c});default:return null}};function le(){return r.a.createElement(l.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(E,null)),r.a.createElement(u.a,{exact:!0,path:"/custom"},r.a.createElement(J,null)),r.a.createElement(u.a,{exact:!0,path:"/countdown"},r.a.createElement(q,null)),r.a.createElement(u.a,{exact:!0,path:"/play/art"},r.a.createElement(ce,{view:"art"})),r.a.createElement(u.a,{exact:!0,path:"/play/info"},r.a.createElement(ce,{view:"info"}))))}n(64);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(le,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.ef1f3f05.chunk.js.map